## Протокол

Сервер и клиент используют три типа сообщений:

#### Авторизация.

Отправляется первым сообщением клиента серверу.

| 0             | name length         | name                       |
| ------------- | ------------------- |--------------------------- |
| 1 byte        | 2 bytes, BIG-ENDIAN | 'name length' bytes, UTF-8 |

&nbsp;

#### Отправка сообщения в чат.

Отправляются клиентом серверу после авторизации.

| 1             | text length         | text                       |
| ------------- | ------------------- |--------------------------- |
| 1 byte        | 2 bytes, big-endian | 'text length' bytes, UTF-8 |

#### Рассылка нового сообщения.

Отправляются сервером всем клиентам.

| 2             | UNIX-time in milliseconds | name length         | name                       | text length         | text                       |
| ------------- | ------------------------- | ------------------- | -------------------------- | ------------------- | -------------------------- |
| 1 byte        | 8 bytes, big-endian       | 2 bytes, big-endian | 'name length' bytes, UTF-8 | 2 bytes, big-endian | 'text length' bytes, UTF-8 |
